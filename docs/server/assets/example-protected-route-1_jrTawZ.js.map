{"version":3,"file":"example-protected-route-1_jrTawZ.js","names":["useAuth","Route","RouteComponent","currentUser","email","component"],"sources":["../../../src/hooks/use-auth.ts","../../../src/routes/_protected/example-protected-route.tsx?tsr-split=component"],"sourcesContent":["import { signOutFn } from '@/server/functions/auth'\nimport { useLoaderData, useRouter } from '@tanstack/react-router'\nimport { useServerFn } from '@tanstack/react-start'\nimport { Models } from 'node-appwrite'\n\nexport function useAuth() {\n  const { currentUser } = useLoaderData({ from: '__root__' }) as {\n    currentUser: Models.User<Models.Preferences>\n  }\n  const signOutServer = useServerFn(signOutFn)\n  const router = useRouter()\n\n  const signOut = async () => {\n    await signOutServer()\n    await router.invalidate()\n  }\n\n  return {\n    currentUser,\n    signOut,\n  }\n}\n","import { useAuth } from '@/hooks/use-auth'\nimport { createFileRoute } from '@tanstack/react-router'\n\nexport const Route = createFileRoute('/_protected/example-protected-route')({\n  component: RouteComponent,\n})\n\nfunction RouteComponent({}) {\n  const { currentUser } = useAuth()\n  return <div>Protected {currentUser?.email}</div>\n}\n"],"mappings":";;;;;AAKA,SAAgB,UAAU;CACxB,MAAM,EAAE,gBAAgB,cAAc,EAAE,MAAM,YAAY,CAAC;CAG3D,MAAM,gBAAgB,YAAY,UAAU;CAC5C,MAAM,SAAS,WAAW;CAE1B,MAAM,UAAU,YAAY;AAC1B,QAAM,eAAe;AACrB,QAAM,OAAO,YAAY;;AAG3B,QAAO;EACL;EACA;EACD;;ACbH,SAASE,eAAe,IAAI;CAC1B,MAAM,EAAEC,gBAAgBH,SAAS;AACjC,QAAO,qBAAC,OAAA,EAAA,UAAA,CAAI,cAAWG,aAAaC,MAAAA,EAAAA,CAAY"}