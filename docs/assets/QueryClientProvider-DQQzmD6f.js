import{A as e,C as t,D as n,O as r,P as i,_ as a,d as o,h as s,l as c,m as l,u,x as d}from"./index-BM_RBz7Q.js";var f=`Error preloading route! ☝️`,p=i(e()),m=i(a()),ee=i(o());function h(e,i){let a=s(),[o,p]=m.useState(!1),h=m.useRef(!1),y=c(i),{activeProps:b,inactiveProps:se,activeOptions:x,to:S,preload:C,preloadDelay:w,hashScrollIntoView:T,replace:E,startTransition:ce,resetScroll:le,viewTransition:ue,children:D,target:O,disabled:k,style:A,className:j,onClick:M,onFocus:N,onMouseEnter:P,onMouseLeave:F,onTouchStart:I,ignoreBlocker:L,params:de,search:fe,hash:pe,state:me,mask:R,reloadDocument:he,unsafeRelative:ge,from:z,_fromLocation:_e,...B}=e,ve=l({select:e=>e.location.search,structuralSharing:!0}),V=e.from,H=m.useMemo(()=>({...e,from:V}),[a,ve,V,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),U=m.useMemo(()=>a.buildLocation({...H}),[a,H]),W=m.useMemo(()=>{if(k)return;let e=U.maskedLocation?U.maskedLocation.url:U.url,t=!1;return a.origin&&(e.startsWith(a.origin)?e=a.history.createHref(e.replace(a.origin,``))||`/`:t=!0),{href:e,external:t}},[k,U.maskedLocation,U.url,a.origin,a.history]),G=m.useMemo(()=>{if(W?.external)return W.href;try{return new URL(S),S}catch{}},[S,W]),K=e.reloadDocument||G?!1:C??a.options.defaultPreload,q=w??a.options.defaultPreloadDelay??0,J=l({select:e=>{if(G)return!1;if(x?.exact){if(!d(e.location.pathname,U.pathname,a.basepath))return!1}else{let n=t(e.location.pathname,a.basepath),r=t(U.pathname,a.basepath);if(!(n.startsWith(r)&&(n.length===r.length||n[r.length]===`/`)))return!1}return(x?.includeSearch??!0)&&!n(e.location.search,U.search,{partial:!x?.exact,ignoreUndefined:!x?.explicitUndefined})?!1:x?.includeHash?e.location.hash===U.hash:!0}}),Y=m.useCallback(()=>{a.preloadRoute({...H}).catch(e=>{console.warn(e),console.warn(f)})},[a,H]);u(y,m.useCallback(e=>{e?.isIntersecting&&Y()},[Y]),ae,{disabled:!!k||K!==`viewport`}),m.useEffect(()=>{h.current||!k&&K===`render`&&(Y(),h.current=!0)},[k,Y,K]);let X=e=>{let t=e.currentTarget.target,n=O===void 0?t:O;if(!k&&!oe(e)&&!e.defaultPrevented&&(!n||n===`_self`)&&e.button===0){e.preventDefault(),(0,ee.flushSync)(()=>{p(!0)});let t=a.subscribe(`onResolved`,()=>{t(),p(!1)});a.navigate({...H,replace:E,resetScroll:le,hashScrollIntoView:T,startTransition:ce,viewTransition:ue,ignoreBlocker:L})}};if(G)return{...B,ref:y,href:G,...D&&{children:D},...O&&{target:O},...k&&{disabled:k},...A&&{style:A},...j&&{className:j},...M&&{onClick:M},...N&&{onFocus:N},...P&&{onMouseEnter:P},...F&&{onMouseLeave:F},...I&&{onTouchStart:I}};let Z=e=>{k||K&&Y()},ye=Z,be=e=>{if(!(k||!K))if(!q)Y();else{let t=e.target;if(_.has(t))return;let n=setTimeout(()=>{_.delete(t),Y()},q);_.set(t,n)}},xe=e=>{if(k||!K||!q)return;let t=e.target,n=_.get(t);n&&(clearTimeout(n),_.delete(t))},Q=J?r(b,{})??te:g,$=J?g:r(se,{})??g,Se=[j,Q.className,$.className].filter(Boolean).join(` `),Ce=(A||Q.style||$.style)&&{...A,...Q.style,...$.style};return{...B,...Q,...$,href:W?.href,ref:y,onClick:v([M,X]),onFocus:v([N,Z]),onMouseEnter:v([P,be]),onMouseLeave:v([F,xe]),onTouchStart:v([I,ye]),disabled:!!k,target:O,...Ce&&{style:Ce},...Se&&{className:Se},...k&&ne,...J&&re,...o&&ie}}var g={},te={className:`active`},ne={role:`link`,"aria-disabled":!0},re={"data-status":`active`,"aria-current":`page`},ie={"data-transitioning":`transitioning`},_=new WeakMap,ae={rootMargin:`100px`},v=e=>t=>{for(let n of e)if(n){if(t.defaultPrevented)return;n(t)}},y=m.forwardRef((e,t)=>{let{_asChild:n,...r}=e,{type:i,ref:a,...o}=h(r,t),s=typeof r.children==`function`?r.children({isActive:o[`data-status`]===`active`}):r.children;return n===void 0&&delete o.disabled,m.createElement(n||`a`,{...o,ref:a},s)});function oe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var b=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},se={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},x=new class{#provider=se;setTimeoutProvider(e){this.#provider=e}setTimeout(e,t){return this.#provider.setTimeout(e,t)}clearTimeout(e){this.#provider.clearTimeout(e)}setInterval(e,t){return this.#provider.setInterval(e,t)}clearInterval(e){this.#provider.clearInterval(e)}};function S(e){setTimeout(e,0)}var C=typeof window>`u`||`Deno`in globalThis;function w(){}function T(e,t){return typeof e==`function`?e(t):e}function E(e){return typeof e==`number`&&e>=0&&e!==1/0}function ce(e,t){return Math.max(e+(t||0)-Date.now(),0)}function le(e,t){return typeof e==`function`?e(t):e}function ue(e,t){return typeof e==`function`?e(t):e}function D(e,t){let{type:n=`all`,exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==k(o,t.options))return!1}else if(!j(t.queryKey,o))return!1}if(n!==`all`){let e=t.isActive();if(n===`active`&&!e||n===`inactive`&&e)return!1}return!(typeof s==`boolean`&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function O(e,t){let{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(A(t.options.mutationKey)!==A(a))return!1}else if(!j(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function k(e,t){return(t?.queryKeyHashFn||A)(e)}function A(e){return JSON.stringify(e,(e,t)=>I(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function j(e,t){return e===t?!0:typeof e==typeof t&&e&&t&&typeof e==`object`&&typeof t==`object`?Object.keys(t).every(n=>j(e[n],t[n])):!1}var M=Object.prototype.hasOwnProperty;function N(e,t){if(e===t)return e;let n=F(e)&&F(t);if(!n&&!(I(e)&&I(t)))return t;let r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,o=n?Array(a):{},s=0;for(let c=0;c<a;c++){let a=n?c:i[c],l=e[a],u=t[a];if(l===u){o[a]=l,(n?c<r:M.call(e,a))&&s++;continue}if(l===null||u===null||typeof l!=`object`||typeof u!=`object`){o[a]=u;continue}let d=N(l,u);o[a]=d,d===l&&s++}return r===a&&s===r?e:o}function P(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}function F(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function I(e){if(!L(e))return!1;let t=e.constructor;if(t===void 0)return!0;let n=t.prototype;return!(!L(n)||!n.hasOwnProperty(`isPrototypeOf`)||Object.getPrototypeOf(e)!==Object.prototype)}function L(e){return Object.prototype.toString.call(e)===`[object Object]`}function de(e){return new Promise(t=>{x.setTimeout(t,e)})}function fe(e,t,n){return typeof n.structuralSharing==`function`?n.structuralSharing(e,t):n.structuralSharing===!1?t:N(e,t)}function pe(e,t,n=0){let r=[...e,t];return n&&r.length>n?r.slice(1):r}function me(e,t,n=0){let r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var R=Symbol();function he(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===R?()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ge(e,t){return typeof e==`function`?e(...t):!!e}var z=new class extends b{#focused;#cleanup;#setup;constructor(){super(),this.#setup=e=>{if(!C&&window.addEventListener){let t=()=>e();return window.addEventListener(`visibilitychange`,t,!1),()=>{window.removeEventListener(`visibilitychange`,t)}}}}onSubscribe(){this.#cleanup||this.setEventListener(this.#setup)}onUnsubscribe(){this.hasListeners()||(this.#cleanup?.(),this.#cleanup=void 0)}setEventListener(e){this.#setup=e,this.#cleanup?.(),this.#cleanup=e(e=>{typeof e==`boolean`?this.setFocused(e):this.onFocus()})}setFocused(e){this.#focused!==e&&(this.#focused=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#focused==`boolean`?this.#focused:globalThis.document?.visibilityState!==`hidden`}};function _e(){let e,t,n=new Promise((n,r)=>{e=n,t=r});n.status=`pending`,n.catch(()=>{});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.resolve=t=>{r({status:`fulfilled`,value:t}),e(t)},n.reject=e=>{r({status:`rejected`,reason:e}),t(e)},n}function B(e){let t;if(e.then(e=>(t=e,e),w)?.catch(w),t!==void 0)return{data:t}}var ve=S;function V(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=ve,a=r=>{t?e.push(r):i(()=>{n(r)})},o=()=>{let t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})};return{batch:e=>{let n;t++;try{n=e()}finally{t--,t||o()}return n},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}var H=V(),U=new class extends b{#online=!0;#cleanup;#setup;constructor(){super(),this.#setup=e=>{if(!C&&window.addEventListener){let t=()=>e(!0),n=()=>e(!1);return window.addEventListener(`online`,t,!1),window.addEventListener(`offline`,n,!1),()=>{window.removeEventListener(`online`,t),window.removeEventListener(`offline`,n)}}}}onSubscribe(){this.#cleanup||this.setEventListener(this.#setup)}onUnsubscribe(){this.hasListeners()||(this.#cleanup?.(),this.#cleanup=void 0)}setEventListener(e){this.#setup=e,this.#cleanup?.(),this.#cleanup=e(this.setOnline.bind(this))}setOnline(e){this.#online!==e&&(this.#online=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#online}};function W(e){return Math.min(1e3*2**e,3e4)}function G(e){return(e??`online`)===`online`?U.isOnline():!0}var K=class extends Error{constructor(e){super(`CancelledError`),this.revert=e?.revert,this.silent=e?.silent}};function q(e){let t=!1,n=0,r,i=_e(),a=()=>i.status!==`pending`,o=t=>{if(!a()){let n=new K(t);f(n),e.onCancel?.(n)}},s=()=>{t=!0},c=()=>{t=!1},l=()=>z.isFocused()&&(e.networkMode===`always`||U.isOnline())&&e.canRun(),u=()=>G(e.networkMode)&&e.canRun(),d=e=>{a()||(r?.(),i.resolve(e))},f=e=>{a()||(r?.(),i.reject(e))},p=()=>new Promise(t=>{r=e=>{(a()||l())&&t(e)},e.onPause?.()}).then(()=>{r=void 0,a()||e.onContinue?.()}),m=()=>{if(a())return;let r,i=n===0?e.initialPromise:void 0;try{r=i??e.fn()}catch(e){r=Promise.reject(e)}Promise.resolve(r).then(d).catch(r=>{if(a())return;let i=e.retry??(C?0:3),o=e.retryDelay??W,s=typeof o==`function`?o(n,r):o,c=i===!0||typeof i==`number`&&n<i||typeof i==`function`&&i(n,r);if(t||!c){f(r);return}n++,e.onFail?.(n,r),de(s).then(()=>l()?void 0:p()).then(()=>{t?f(r):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:s,continueRetry:c,canStart:u,start:()=>(u()?m():p().then(m),i)}}var J=class{#gcTimeout;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),E(this.gcTime)&&(this.#gcTimeout=x.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(C?1/0:300*1e3))}clearGcTimeout(){this.#gcTimeout&&=(x.clearTimeout(this.#gcTimeout),void 0)}},Y=class extends J{#client;#observers;#mutationCache;#retryer;constructor(e){super(),this.#client=e.client,this.mutationId=e.mutationId,this.#mutationCache=e.mutationCache,this.#observers=[],this.state=e.state||X(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#observers.includes(e)||(this.#observers.push(e),this.clearGcTimeout(),this.#mutationCache.notify({type:`observerAdded`,mutation:this,observer:e}))}removeObserver(e){this.#observers=this.#observers.filter(t=>t!==e),this.scheduleGc(),this.#mutationCache.notify({type:`observerRemoved`,mutation:this,observer:e})}optionalRemove(){this.#observers.length||(this.state.status===`pending`?this.scheduleGc():this.#mutationCache.remove(this))}continue(){return this.#retryer?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#dispatch({type:`continue`})},n={client:this.#client,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#retryer=q({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(Error(`No mutationFn found`)),onFail:(e,t)=>{this.#dispatch({type:`failed`,failureCount:e,error:t})},onPause:()=>{this.#dispatch({type:`pause`})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#mutationCache.canRun(this)});let r=this.state.status===`pending`,i=!this.#retryer.canStart();try{if(r)t();else{this.#dispatch({type:`pending`,variables:e,isPaused:i}),await this.#mutationCache.config.onMutate?.(e,this,n);let t=await this.options.onMutate?.(e,n);t!==this.state.context&&this.#dispatch({type:`pending`,context:t,variables:e,isPaused:i})}let a=await this.#retryer.start();return await this.#mutationCache.config.onSuccess?.(a,e,this.state.context,this,n),await this.options.onSuccess?.(a,e,this.state.context,n),await this.#mutationCache.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,e,this.state.context,n),this.#dispatch({type:`success`,data:a}),a}catch(t){try{throw await this.#mutationCache.config.onError?.(t,e,this.state.context,this,n),await this.options.onError?.(t,e,this.state.context,n),await this.#mutationCache.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,t,e,this.state.context,n),t}finally{this.#dispatch({type:`error`,error:t})}}finally{this.#mutationCache.runNext(this)}}#dispatch(e){this.state=(t=>{switch(e.type){case`failed`:return{...t,failureCount:e.failureCount,failureReason:e.error};case`pause`:return{...t,isPaused:!0};case`continue`:return{...t,isPaused:!1};case`pending`:return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:`pending`,variables:e.variables,submittedAt:Date.now()};case`success`:return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:`success`,isPaused:!1};case`error`:return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:`error`}}})(this.state),H.batch(()=>{this.#observers.forEach(t=>{t.onMutationUpdate(e)}),this.#mutationCache.notify({mutation:this,type:`updated`,action:e})})}};function X(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:`idle`,variables:void 0,submittedAt:0}}var Z=m.createContext(void 0),ye=e=>{let t=m.useContext(Z);if(e)return e;if(!t)throw Error(`No QueryClient set, use QueryClientProvider to set one`);return t},be=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,p.jsx)(Z.Provider,{value:e,children:t}));export{b as A,fe as C,ge as D,P as E,R as O,j as S,le as T,A as _,J as a,D as b,q as c,B as d,z as f,T as g,he as h,X as i,y as j,ce as k,U as l,me as m,ye as n,K as o,pe as p,Y as r,G as s,be as t,H as u,k as v,ue as w,w as x,O as y};