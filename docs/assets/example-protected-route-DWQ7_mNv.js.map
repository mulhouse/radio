{"version":3,"file":"example-protected-route-DWQ7_mNv.js","names":["useAuth","Route","RouteComponent","currentUser","email","component"],"sources":["../../../src/hooks/use-auth.ts","../../../src/routes/_protected/example-protected-route.tsx?tsr-split=component"],"sourcesContent":["import { signOutFn } from '@/server/functions/auth'\nimport { useLoaderData, useRouter } from '@tanstack/react-router'\nimport { useServerFn } from '@tanstack/react-start'\nimport { Models } from 'node-appwrite'\n\nexport function useAuth() {\n  const { currentUser } = useLoaderData({ from: '__root__' }) as {\n    currentUser: Models.User<Models.Preferences>\n  }\n  const signOutServer = useServerFn(signOutFn)\n  const router = useRouter()\n\n  const signOut = async () => {\n    await signOutServer()\n    await router.invalidate()\n  }\n\n  return {\n    currentUser,\n    signOut,\n  }\n}\n","import { useAuth } from '@/hooks/use-auth'\nimport { createFileRoute } from '@tanstack/react-router'\n\nexport const Route = createFileRoute('/_protected/example-protected-route')({\n  component: RouteComponent,\n})\n\nfunction RouteComponent({}) {\n  const { currentUser } = useAuth()\n  return <div>Protected {currentUser?.email}</div>\n}\n"],"mappings":"iHAKA,SAAgB,GAAU,CACxB,GAAM,CAAE,eAAgB,EAAc,CAAE,KAAM,WAAY,CAAC,CAGrD,EAAgB,EAAY,EAAU,CACtC,EAAS,GAAW,CAO1B,MAAO,CACL,cACA,QAPc,SAAY,CAC1B,MAAM,GAAe,CACrB,MAAM,EAAO,YAAY,EAM1B,cCbH,SAASE,EAAe,GAAI,CAC1B,GAAM,CAAEC,eAAgBH,GAAS,CACjC,OAAO,EAAA,EAAA,MAAC,MAAA,CAAA,SAAA,CAAI,aAAWG,GAAaC,MAAAA,CAAAA,CAAY"}