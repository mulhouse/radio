import{j as e}from"./QueryClientProvider-DQQzmD6f.js";import{A as t,P as n,_ as r}from"./index-BM_RBz7Q.js";import"./dist-ujpPmBYa.js";import{n as i,r as a,t as o}from"./alert-BdYX3X60-B4-9AXIc.js";import{n as s,r as c}from"./zod-DsoXa-XD.js";import{t as l}from"./useServerFn-D_M3mnTc-xMIRQCHR.js";import{n as u}from"./auth-Dh9yZB3l-B0ENX6BS.js";import{a as d,i as f,n as p,o as m,r as h,t as g}from"./zod-CqBg_A8e.js";var _=n(t()),v=n(r()),y=s({email:c().email(`Please enter a valid email address`)});function b(){let[t,n]=(0,v.useState)(!1),r=l(u),s=m({resolver:g(y),defaultValues:{email:``}}),c=p({mutationFn:async e=>{await r({data:e})},onSuccess:()=>{n(!0),s.reset()},onError:e=>{console.error(`Forgot password error:`,e),s.setError(`root`,{message:e.message||`Failed to send recovery email`})}});return t?(0,_.jsxs)(h,{title:`Check your email`,description:`We've sent you a password recovery link`,children:[(0,_.jsxs)(o,{className:`border-green-500 bg-green-50 dark:bg-green-950`,children:[(0,_.jsx)(a,{className:`h-4 w-4 text-green-600 dark:text-green-400`}),(0,_.jsx)(i,{className:`text-green-800 dark:text-green-200`,children:`If an account exists with that email, you'll receive a password recovery link shortly. Please check your inbox and spam folder.`})]}),(0,_.jsxs)(`div`,{className:`text-center text-sm text-muted-foreground mt-4 space-x-1`,children:[(0,_.jsx)(`div`,{className:`inline-block`,children:`Remember your password? `}),(0,_.jsx)(`div`,{className:`inline-block`,children:(0,_.jsx)(e,{to:`/sign-in`,className:`font-medium text-primary underline-offset-4 hover:underline`,children:`Sign in`})})]})]}):(0,_.jsxs)(h,{title:`Forgot password`,description:`Enter your email address and we'll send you a recovery link`,children:[(0,_.jsx)(d,{schema:y,defaultValues:{email:``},onSubmit:e=>c.mutate(e),submitText:`Send recovery link`,loadingText:`Sending...`,isLoading:c.isPending,form:s,children:e=>(0,_.jsx)(f,{control:e.control,name:`email`,label:`Email`,placeholder:`john@doe.com`,type:`email`})}),(0,_.jsxs)(`div`,{className:`text-center text-sm text-muted-foreground mt-4 space-x-1`,children:[(0,_.jsx)(`div`,{className:`inline-block`,children:`Remember your password? `}),(0,_.jsx)(`div`,{className:`inline-block`,children:(0,_.jsx)(e,{to:`/sign-in`,className:`font-medium text-primary underline-offset-4 hover:underline`,children:`Sign in`})})]})]})}export{b as component};