import{i as e,n as t,o as n,r,s as i,t as a}from"./zod-CHCjAJAU.js";import{t as o}from"./useServerFn-DsTzOVMO.js";import{E as s,M as c,O as l,b as u,n as d,r as f,s as p}from"./main-nBXvAf8O.js";import"./loader-circle-ay3JJMrH.js";import{n as m,r as h,t as g}from"./alert-C9E30bFM.js";var _=c(l()),v=c(s()),y=d({email:f().email(`Please enter a valid email address`)});function b(){let[s,c]=(0,_.useState)(!1),l=o(p),d=e({resolver:a(y),defaultValues:{email:``}}),f=i({mutationFn:async e=>{await l({data:e})},onSuccess:()=>{c(!0),d.reset()},onError:e=>{console.error(`Forgot password error:`,e),d.setError(`root`,{message:e.message||`Failed to send recovery email`})}});return s?(0,v.jsxs)(n,{title:`Check your email`,description:`We've sent you a password recovery link`,children:[(0,v.jsxs)(g,{className:`border-green-500 bg-green-50 dark:bg-green-950`,children:[(0,v.jsx)(h,{className:`h-4 w-4 text-green-600 dark:text-green-400`}),(0,v.jsx)(m,{className:`text-green-800 dark:text-green-200`,children:`If an account exists with that email, you'll receive a password recovery link shortly. Please check your inbox and spam folder.`})]}),(0,v.jsxs)(`div`,{className:`text-center text-sm text-muted-foreground mt-4 space-x-1`,children:[(0,v.jsx)(`div`,{className:`inline-block`,children:`Remember your password? `}),(0,v.jsx)(`div`,{className:`inline-block`,children:(0,v.jsx)(u,{to:`/sign-in`,className:`font-medium text-primary underline-offset-4 hover:underline`,children:`Sign in`})})]})]}):(0,v.jsxs)(n,{title:`Forgot password`,description:`Enter your email address and we'll send you a recovery link`,children:[(0,v.jsx)(r,{schema:y,defaultValues:{email:``},onSubmit:e=>f.mutate(e),submitText:`Send recovery link`,loadingText:`Sending...`,isLoading:f.isPending,form:d,children:e=>(0,v.jsx)(t,{control:e.control,name:`email`,label:`Email`,placeholder:`john@doe.com`,type:`email`})}),(0,v.jsxs)(`div`,{className:`text-center text-sm text-muted-foreground mt-4 space-x-1`,children:[(0,v.jsx)(`div`,{className:`inline-block`,children:`Remember your password? `}),(0,v.jsx)(`div`,{className:`inline-block`,children:(0,v.jsx)(u,{to:`/sign-in`,className:`font-medium text-primary underline-offset-4 hover:underline`,children:`Sign in`})})]})]})}export{b as component};
//# sourceMappingURL=forgot-password-BTcmWxww.js.map